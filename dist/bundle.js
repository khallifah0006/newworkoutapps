/*! For license information please see bundle.js.LICENSE.txt */
(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(){"use strict";e=function(){return r};var n,r={},o=Object.prototype,a=o.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(t,e,n,r){return Object.defineProperty(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r})}try{d({},"")}catch(n){d=function(t,e,n){return t[e]=n}}function l(t,e,r,o){var a=e&&e.prototype instanceof h?e:h,i=Object.create(a.prototype);return d(i,"_invoke",function(t,e,r){var o=1;return function(a,i){if(3===o)throw Error("Generator is already running");if(4===o){if("throw"===a)throw i;return{value:n,done:!0}}for(r.method=a,r.arg=i;;){var c=r.delegate;if(c){var s=x(c,r);if(s){if(s===f)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(1===o)throw o=4,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=3;var u=m(t,e,r);if("normal"===u.type){if(o=r.done?4:2,u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=4,r.method="throw",r.arg=u.arg)}}}(t,r,new T(o||[])),!0),i}function m(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}r.wrap=l;var f={};function h(){}function v(){}function p(){}var g={};d(g,c,(function(){return this}));var y=Object.getPrototypeOf,k=y&&y(y(I([])));k&&k!==o&&a.call(k,c)&&(g=k);var b=p.prototype=h.prototype=Object.create(g);function w(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function E(e,n){function r(o,i,c,s){var u=m(e[o],e,i);if("throw"!==u.type){var d=u.arg,l=d.value;return l&&"object"==t(l)&&a.call(l,"__await")?n.resolve(l.__await).then((function(t){r("next",t,c,s)}),(function(t){r("throw",t,c,s)})):n.resolve(l).then((function(t){d.value=t,c(d)}),(function(t){return r("throw",t,c,s)}))}s(u.arg)}var o;d(this,"_invoke",(function(t,e){function a(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(a,a):a()}),!0)}function x(t,e){var r=e.method,o=t.i[r];if(o===n)return e.delegate=null,"throw"===r&&t.i.return&&(e.method="return",e.arg=n,x(t,e),"throw"===e.method)||"return"!==r&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var a=m(o,t.i,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,f;var i=a.arg;return i?i.done?(e[t.r]=i.value,e.next=t.n,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function L(t){this.tryEntries.push(t)}function B(t){var e=t[4]||{};e.type="normal",e.arg=n,t[4]=e}function T(t){this.tryEntries=[[-1]],t.forEach(L,this),this.reset(!0)}function I(e){if(null!=e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(a.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=n,t.done=!0,t};return i.next=i}}throw new TypeError(t(e)+" is not iterable")}return v.prototype=p,d(b,"constructor",p),d(p,"constructor",v),v.displayName=d(p,u,"GeneratorFunction"),r.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},r.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,d(t,u,"GeneratorFunction")),t.prototype=Object.create(b),t},r.awrap=function(t){return{__await:t}},w(E.prototype),d(E.prototype,s,(function(){return this})),r.AsyncIterator=E,r.async=function(t,e,n,o,a){void 0===a&&(a=Promise);var i=new E(l(t,e,n,o),a);return r.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},w(b),d(b,u,"Generator"),d(b,c,(function(){return this})),d(b,"toString",(function(){return"[object Generator]"})),r.keys=function(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}},r.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(B),!t)for(var e in this)"t"===e.charAt(0)&&a.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0][4];if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n){i.type="throw",i.arg=t,e.next=n}for(var o=e.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a[4],c=this.prev,s=a[1],u=a[2];if(-1===a[0])return r("end"),!1;if(!s&&!u)throw Error("try statement without catch or finally");if(null!=a[0]&&a[0]<=c){if(c<s)return this.method="next",this.arg=n,r(s),!0;if(c<u)return r(u),!1}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r[0]>-1&&r[0]<=this.prev&&this.prev<r[2]){var o=r;break}}o&&("break"===t||"continue"===t)&&o[0]<=e&&e<=o[2]&&(o=null);var a=o?o[4]:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o[2],f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[2]===t)return this.complete(n[4],n[3]),B(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n[0]===t){var r=n[4];if("throw"===r.type){var o=r.arg;B(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={i:I(t),r:e,n:r},"next"===this.method&&(this.arg=n),f}},r}function n(t,e,n,r,o,a,i){try{var c=t[a](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,o)}function r(t){return function(){var e=this,r=arguments;return new Promise((function(o,a){var i=t.apply(e,r);function c(t){n(i,o,a,c,s,"next",t)}function s(t){n(i,o,a,c,s,"throw",t)}c(void 0)}))}}document.addEventListener("DOMContentLoaded",(function(){var t=document.getElementById("healthInfoSection"),n=document.getElementById("calculatorSection"),o=document.getElementById("resultsSection"),a=document.getElementById("myProgramSection"),i=document.getElementById("testimonialSection"),c=document.getElementById("startTestBtn"),s=document.getElementById("backToHealthBtn"),u=document.getElementById("backToCalculatorBtn"),d=document.getElementById("viewProgramBtn"),l=document.getElementById("viewTestimonialsBtn"),m=document.getElementById("backToProgramBtn"),f=document.getElementById("backTomainmenu"),h=document.getElementById("workoutForm"),v=document.getElementById("loading"),p=document.getElementById("results"),g=document.getElementById("recommendBtn"),y=document.getElementById("recommendations"),k=document.getElementById("workoutType"),b=document.getElementById("difficultyLevel"),w=document.getElementById("selectedWorkouts"),E=document.getElementById("backtorecomendation"),x=document.createElement("div");x.id="programStatus",x.className="program-status",a.querySelector(".container").insertBefore(x,a.querySelector(".container").firstChild.nextSibling);var L=[],B=[];function T(){L=[],O(),C()}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=document.createElement("div");n.className="notification ".concat(e),n.textContent=t,document.body.appendChild(n),setTimeout((function(){n.classList.add("fade-out"),setTimeout((function(){n.remove()}),500)}),3e3)}function S(e){t.classList.add("hidden"),n.classList.add("hidden"),o.classList.add("hidden"),a.classList.add("hidden"),i.classList.add("hidden"),e.classList.remove("hidden")}function j(){return(j=r(e().mark((function t(n,r,a){var i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/recommendations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({age:parseFloat(n),height:parseFloat(r),weight:parseFloat(a)})});case 3:if((i=t.sent).ok){t.next=6;break}throw new Error("Server error: ".concat(i.status));case 6:return t.next=8,i.json();case 8:_(t.sent),S(o),t.next=19;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Error:",t.t0),I("Terjadi kesalahan saat mengambil rekomendasi. Silakan coba lagi.","error"),h.closest(".form-container").classList.remove("hidden"),v.classList.add("hidden");case 19:case"end":return t.stop()}}),t,null,[[0,13]])})))).apply(this,arguments)}function _(t){v.classList.add("hidden"),p.classList.remove("hidden"),document.getElementById("bmi-value").textContent=t.bmi.toFixed(2),document.getElementById("bmi-category").textContent=t.bmi_category,document.getElementById("age-category").textContent=t.age_category,document.getElementById("difficulty-level").textContent=t.difficulty_level,document.getElementById("workout-summary").innerHTML=t.summary;var e=document.getElementById("endurance-workouts");e.innerHTML="",t.endurance_workouts.forEach((function(t,n){var r=H(t,n+1);e.appendChild(r)}));var n=document.getElementById("strength-workouts");n.innerHTML="",t.strength_workouts.forEach((function(t,e){var r=H(t,e+1);n.appendChild(r)}))}function H(t,e){var n=document.createElement("div");return n.className="workout-card",n.innerHTML='\n      <div class="workout-title">'.concat(e,". ").concat(t.name,'</div>\n      <div class="workout-detail">\n        <span class="label">Kesulitan:</span>\n        <span class="value ').concat(t.kesulitan,'">').concat(t.kesulitan,'</span>\n      </div>\n      <div class="workout-detail">\n        <span class="label">Target:</span>\n        <span class="value">').concat(t.target,'</span>\n      </div>\n      <div class="workout-detail">\n        <span class="label">Deskripsi:</span>\n        <span class="value">').concat(t.description,"</span>\n      </div>\n    "),n}function O(){if(0!==L.length){var t="";L.forEach((function(e,n){var r="";"Easy"===e.kesulitan?r="difficulty-easy":"Medium"===e.kesulitan?r="difficulty-medium":"Hard"!==e.kesulitan&&"Very Hard"!==e.kesulitan||(r="difficulty-hard"),t+='\n        <div class="workout-card selected-workout" data-index="'.concat(n,'">\n          <div class="workout-name">').concat(e.name,'</div>\n          <div class="workout-detail"><strong>Jenis:</strong> ').concat(e.jenis,'</div>\n          <div class="workout-detail"><strong>Subkategori:</strong> ').concat(e.subkategori||"N/A",'</div>\n          <div class="workout-detail"><strong>Target:</strong> ').concat(e.target,'</div>\n          <div class="workout-detail"><strong>Kesulitan:</strong> <span class="').concat(r,'">').concat(e.kesulitan,'</span></div>\n          <div class="workout-detail"><strong>Deskripsi:</strong> ').concat(e.description,'</div>\n          <div class="workout-actions">\n            <button class="remove-workout-btn" data-index="').concat(n,'">Hapus</button>\n          </div>\n        </div>\n      ')})),w.innerHTML=t,document.querySelectorAll(".remove-workout-btn").forEach((function(t){t.addEventListener("click",(function(){!function(t){if(t>=0&&t<L.length){var e=L[t].name;L.splice(t,1),O(),C(),I('"'.concat(e,'" berhasil dihapus dari program.'),"info");var n=y.querySelector('[data-name="'.concat(e,'"]'));if(n){var r=n.querySelector(".action-btn");r&&(r.className="action-btn add-btn",r.textContent="+",r.title="Tambahkan ke program")}}}(parseInt(this.getAttribute("data-index")))}))}))}else w.innerHTML='<p class="empty-message">Belum ada gerakan yang dipilih. Tambahkan gerakan dengan klik tombol (+).</p>'}function C(){L.length>0?d.style.display="block":d.style.display="none"}function N(t,e){if(L.some((function(t){return t.name===e.name})))I("Gerakan ini sudah ada dalam program Anda.","info");else{L.push(e),O(),C();var n=t.querySelector(".action-btn");n.className="action-btn remove-btn",n.textContent="-",n.title="Hapus dari program",I('"'.concat(e.name,'" berhasil ditambahkan ke program.'),"success")}}function M(t,e){var n=L.findIndex((function(t){return t.name===e}));if(-1!==n){L.splice(n,1),O(),C();var r=t.querySelector(".action-btn");r.className="action-btn add-btn",r.textContent="+",r.title="Tambahkan ke program",I('"'.concat(e,'" berhasil dihapus dari program.'),"info")}}T(),c.addEventListener("click",(function(){S(n)})),s.addEventListener("click",(function(){S(t)})),u.addEventListener("click",(function(){S(n)})),l.addEventListener("click",(function(){S(i)})),m.addEventListener("click",(function(){S(a)})),E.addEventListener("click",(function(){S(o)})),f.addEventListener("click",(function(){S(t),T()})),h.addEventListener("submit",(function(t){t.preventDefault();var e=document.getElementById("age").value,n=document.getElementById("height").value,r=document.getElementById("weight").value;e&&n&&r?(h.closest(".form-container").classList.add("hidden"),v.classList.remove("hidden"),p.classList.add("hidden"),function(t,e,n){j.apply(this,arguments)}(e,n,r)):I("Silakan isi semua field.","error")})),g.addEventListener("click",r(e().mark((function t(){var n,r,o,a,i;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=k.value,r=b.value,t.prev=2,t.next=5,fetch("/api/recommend",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({workoutType:n,difficultyLevel:r})});case 5:if((o=t.sent).ok){t.next=8;break}throw new Error("Server error: ".concat(o.status));case 8:return t.next=10,o.json();case 10:if((a=t.sent).success){t.next=14;break}return y.innerHTML="<p>Error: ".concat(a.error||"Unknown error","</p>"),t.abrupt("return");case 14:if(a.recommendations&&0!==a.recommendations.length){t.next=17;break}return y.innerHTML="<p>Tidak ada rekomendasi yang ditemukan.</p>",t.abrupt("return");case 17:B=a.recommendations,i="<h2>List Gerakan:</h2>",a.recommendations.forEach((function(t){var e="";"Easy"===t.kesulitan?e="difficulty-easy":"Medium"===t.kesulitan?e="difficulty-medium":"Hard"!==t.kesulitan&&"Very Hard"!==t.kesulitan||(e="difficulty-hard");var n=L.some((function(e){return e.name===t.name}));i+='\n          <div class="workout-card" data-name="'.concat(t.name,'">\n            <div class="workout-name">').concat(t.name,'</div>\n            <div class="workout-detail"><strong>Jenis:</strong> ').concat(t.jenis,'</div>\n            <div class="workout-detail"><strong>Subkategori:</strong> ').concat(t.subkategori||"N/A",'</div>\n            <div class="workout-detail"><strong>Target:</strong> ').concat(t.target,'</div>\n            <div class="workout-detail"><strong>Kesulitan:</strong> <span class="').concat(e,'">').concat(t.kesulitan,'</span></div>\n            <div class="workout-detail"><strong>Deskripsi:</strong> ').concat(t.description,'</div>\n            <div class="workout-actions">\n              <span class="action-btn ').concat(n?"remove-btn":"add-btn",'" title="').concat(n?"Hapus dari program":"Tambahkan ke program",'">').concat(n?"-":"+","</span>\n            </div>\n          </div>\n        ")})),y.innerHTML=i,document.querySelectorAll(".workout-card .action-btn").forEach((function(t){t.addEventListener("click",(function(){var t=this.closest(".workout-card"),e=t.getAttribute("data-name"),n=B.find((function(t){return t.name===e}));n&&(this.classList.contains("add-btn")?N(t,n):M(t,e))}))})),t.next=28;break;case 24:t.prev=24,t.t0=t.catch(2),console.error("Error fetching recommendations:",t.t0),y.innerHTML="<p>Terjadi kesalahan saat mengambil rekomendasi.</p>";case 28:case"end":return t.stop()}}),t,null,[[2,24]])})))),d.addEventListener("click",(function(){S(a),O()}))}))})();